(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7122c1e3"],{"013a":function(t,n,e){},"04b3":function(t,n,e){t.exports=e.p+"img/ring.6f148197.svg"},"0607":function(t,n,e){"use strict";var s=e("0e2e"),i=e.n(s);i.a},"0886":function(t,n,e){"use strict";var s=e("fc9e"),i=e.n(s);i.a},"0b82":function(t,n,e){t.exports=e.p+"img/share.32995a2e.svg"},"0e2e":function(t,n,e){},"1b92":function(t,n,e){"use strict";var s=e("8406"),i=e.n(s);i.a},"1dde":function(t,n,e){var s=e("d039"),i=e("b622"),o=e("2d00"),r=i("species");t.exports=function(t){return o>=51||!s((function(){var n=[],e=n.constructor={};return e[r]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},3693:function(t,n,e){t.exports=e.p+"img/disc-ip6.69796123.png"},"385e":function(t,n,e){"use strict";var s=e("68ab"),i=e.n(s);i.a},3922:function(t,n,e){},5789:function(t,n,e){t.exports=e.p+"img/love.1413cea0.svg"},"5a0b":function(t,n,e){"use strict";var s=e("013a"),i=e.n(s);i.a},"65f0":function(t,n,e){var s=e("861d"),i=e("e8b5"),o=e("b622"),r=o("species");t.exports=function(t,n){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)?s(e)&&(e=e[r],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===n?0:n)}},"68ab":function(t,n,e){},"71b3":function(t,n,e){},8406:function(t,n,e){},"8e6a":function(t,n,e){},"8ffd":function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"nav-bar"},[e("div",{staticClass:"nav-bar-left"},[t._t("left")],2),e("div",{staticClass:"nav-bar-center"},[t._t("center")],2),e("div",{staticClass:"nav-bar-right",on:{click:t.songClick}},[t._t("right")],2)])},i=[],o={methods:{songClick:function(){var t=this.$store.state.song.id;this.$router.push({path:"/song",query:{id:t}})}}},r=o,c=(e("0607"),e("2877")),a=Object(c["a"])(r,s,i,!1,null,null,null);n["a"]=a.exports},"90b9":function(t,n,e){"use strict";function s(t){return t<10?"0"+t:t}function i(t){return Math.floor(t/6e4)+":"+s(Math.floor(t%6e4/1e3))}function o(t,n){return t/n*100+"%"}function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,e=null;return function(){for(var s=this,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];e&&clearTimeout(e),e=setTimeout((function(){t.apply(s,o)}),n)}}e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return r}))},"91d7":function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"menu-items"},[t._t("default")],2)},i=[],o={},r=o,c=(e("dc7a"),e("2877")),a=Object(c["a"])(r,s,i,!1,null,null,null);n["a"]=a.exports},a020:function(t,n,e){},a08b:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"menu-item"},[e("div",{staticClass:"icon"},[t._t("icon")],2),e("div",{staticClass:"text"},[t._t("text")],2)])},i=[],o={},r=o,c=(e("c32b"),e("2877")),a=Object(c["a"])(r,s,i,!1,null,null,null);n["a"]=a.exports},a15b:function(t,n,e){"use strict";var s=e("23e7"),i=e("44ad"),o=e("fc6a"),r=e("a640"),c=[].join,a=i!=Object,u=r("join",",");s({target:"Array",proto:!0,forced:a||!u},{join:function(t){return c.call(o(this),void 0===t?",":t)}})},a640:function(t,n,e){"use strict";var s=e("d039");t.exports=function(t,n){var e=[][t];return!!e&&s((function(){e.call(null,n||function(){throw 1},1)}))}},b0c0:function(t,n,e){var s=e("83ab"),i=e("9bf2").f,o=Function.prototype,r=o.toString,c=/^\s*function ([^ (]*)/,a="name";s&&!(a in o)&&i(o,a,{configurable:!0,get:function(){try{return r.call(this).match(c)[1]}catch(t){return""}}})},b727:function(t,n,e){var s=e("0366"),i=e("44ad"),o=e("7b0b"),r=e("50c4"),c=e("65f0"),a=[].push,u=function(t){var n=1==t,e=2==t,u=3==t,l=4==t,f=6==t,p=5==t||f;return function(d,g,m,v){for(var h,b,C=o(d),y=i(C),_=s(g,m,3),x=r(y.length),k=0,$=v||c,S=n?$(d,x):e?$(d,0):void 0;x>k;k++)if((p||k in y)&&(h=y[k],b=_(h,k,C),t))if(n)S[k]=b;else if(b)switch(t){case 3:return!0;case 5:return h;case 6:return k;case 2:a.call(S,h)}else if(l)return!1;return f?-1:u||l?l:S}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},bc59:function(t,n,e){t.exports=e.p+"img/back.4a7c7291.svg"},c32b:function(t,n,e){"use strict";var s=e("71b3"),i=e.n(s);i.a},c5bf:function(t,n,e){t.exports=e.p+"img/download.10cf3c11.svg"},cf3f:function(t,n,e){t.exports=e.p+"img/more.5d6942b8.svg"},d4ec:function(t,n,e){"use strict";function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",(function(){return s}))},d81d:function(t,n,e){"use strict";var s=e("23e7"),i=e("b727").map,o=e("1dde"),r=e("ae40"),c=o("map"),a=r("map");s({target:"Array",proto:!0,forced:!c||!a},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},dc7a:function(t,n,e){"use strict";var s=e("a020"),i=e.n(s);i.a},de34:function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"song"}},[e("song-nav-bar",{attrs:{"song-name":t.song.name,"song-artist":t.song.artist}}),e("song-cover",{attrs:{"song-img":t.song.img}}),e("song-lyric"),e("song-menu"),e("song-control",{attrs:{song:t.song},on:{nextClick:t.nextClick,prevClick:t.prevClick}}),e("div",{staticClass:"song-bg",style:t.bgImg})],1)},i=[],o=(e("b0c0"),e("d4ec")),r=e("f350");function c(t){return Object(r["a"])({url:"/song/detail",params:{ids:t}})}var a=function t(n){Object(o["a"])(this,t),this.id=n.id,this.name=n.name,this.artist=n.ar,this.img=n.al.picUrl,this.time=n.dt},u=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"song-nav-bar"},[s("nav-bar",{scopedSlots:t._u([{key:"left",fn:function(){return[s("img",{attrs:{src:e("bc59"),alt:""},on:{click:t.backClick}})]},proxy:!0},{key:"center",fn:function(){return[s("p",{staticClass:"snv-title"},[t._v(t._s(t.songName))]),s("p",{staticClass:"snv-artist"},[t._v(t._s(t.showName))])]},proxy:!0},{key:"right",fn:function(){return[s("img",{attrs:{src:e("0b82"),alt:""},on:{click:function(n){return n.stopPropagation(),t.shareClick(n)}}})]},proxy:!0}])})],1)},l=[],f=(e("a15b"),e("d81d"),e("8ffd")),p={props:{songName:{type:String,default:""},songArtist:{type:Array,default:function(){return[]}}},components:{NavBar:f["a"]},methods:{backClick:function(){this.$router.back(),this.$store.commit("updateStatus",!1)},shareClick:function(){console.log("share")}},computed:{showName:function(){return 1==this.songArtist.length?this.songArtist[0].name:this.songArtist.map((function(t){return t.name})).join("/")}}},d=p,g=(e("e059"),e("2877")),m=Object(g["a"])(d,u,l,!1,null,"5de65826",null),v=m.exports,h=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"song-cover"},[e("div",{staticClass:"sc-playboard"},[t._m(0),e("div",{staticClass:"sc-pic",class:t.isPause},[e("img",{attrs:{src:t.songImg,alt:""}})])]),t._m(1)])},b=[function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"sc-disc"},[s("img",{attrs:{src:e("3693"),alt:""}})])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"sc-needle"},[s("img",{attrs:{src:e("de9f"),alt:""}})])}],C={data:function(){return{songStatus:!0}},props:{songImg:{type:String,default:""}},computed:{isPause:function(){return this.songStatus=this.$store.state.currentStatus,{pause:!this.songStatus}}}},y=C,_=(e("5a0b"),Object(g["a"])(y,h,b,!1,null,null,null)),x=_.exports,k=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},$=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"song-lyric"},[e("h2",[t._v("暂无歌词")])])}],S={},w=S,j=(e("385e"),Object(g["a"])(w,k,$,!1,null,null,null)),E=j.exports,O=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"song-menu"},[s("menu-list",[s("menu-item",{scopedSlots:t._u([{key:"icon",fn:function(){return[s("img",{attrs:{src:e("5789"),alt:""}})]},proxy:!0}])}),s("menu-item",{scopedSlots:t._u([{key:"icon",fn:function(){return[s("img",{attrs:{src:e("c5bf"),alt:""}})]},proxy:!0}])}),s("menu-item",{scopedSlots:t._u([{key:"icon",fn:function(){return[s("img",{attrs:{src:e("04b3"),alt:""}})]},proxy:!0}])}),s("menu-item",{scopedSlots:t._u([{key:"icon",fn:function(){return[s("img",{attrs:{src:e("f6aa"),alt:""}})]},proxy:!0}])}),s("menu-item",{scopedSlots:t._u([{key:"icon",fn:function(){return[s("img",{attrs:{src:e("cf3f"),alt:""}})]},proxy:!0}])})],1)],1)},A=[],I=e("91d7"),P=e("a08b"),N={components:{MenuList:I["a"],MenuItem:P["a"]}},T=N,M=(e("0886"),Object(g["a"])(T,O,A,!1,null,null,null)),U=M.exports,F=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"song-control"},[e("div",{staticClass:"sc-player"},[e("div",{staticClass:"progress"},[e("span",[t._v(t._s(t._f("timeFilter")(t.time)))]),e("div",{staticClass:"progress-down"},[e("div",{staticClass:"progress-up",style:t.timePlayed})]),e("span",[t._v(t._s(t._f("timeFilter")(t.song.time)))])])]),e("audio",{ref:"audio",attrs:{src:t.songUrl,autoplay:""},on:{canplay:t.songCanPlay,timeupdate:t.songTimeUpdate,ended:t.songEnded}}),e("div",{staticClass:"sc-tab-bar"},[e("span",{staticClass:"iconfont icon-loop",class:{active:t.loop},on:{click:t.loopClick}}),e("span",{staticClass:"iconfont icon-prev",on:{click:t.prevClick}}),e("span",{staticClass:"iconfont control",class:t.isPause,on:{click:t.controlClick}}),e("span",{staticClass:"iconfont icon-next",on:{click:t.nextClick}}),e("span",{staticClass:"iconfont icon-list"})])])},B=[],q=e("90b9"),J={data:function(){return{audio:{},time:0,pause:!1,loop:!1}},props:{song:{type:Object,default:function(){}}},methods:{songCanPlay:function(){this.time=0,this.audio=this.$refs.audio},songTimeUpdate:function(){this.time=1e3*this.audio.currentTime},songEnded:function(){this.loop?this.audio.play():this.$emit("nextClick")},controlClick:function(){this.pause?this.audio.play():this.audio.pause(),this.pause=!this.pause,this.$store.commit("updateStatus",this.pause)},loopClick:function(){this.loop=!this.loop},prevClick:function(){this.$emit("prevClick")},nextClick:function(){this.$emit("nextClick")}},computed:{songUrl:function(){return"https://music.163.com/song/media/outer/url?id=".concat(this.song.id,".mp3")},isPause:function(){return this.pause?{"icon-play":!0}:{"icon-pause":!0}},timePlayed:function(){return{width:Object(q["c"])(this.time,this.song.time)}}},filters:{timeFilter:function(t){return Object(q["b"])(t)}}},L=J,z=(e("e900"),Object(g["a"])(L,F,B,!1,null,null,null)),D=z.exports,G={name:"Song",data:function(){return{song:{}}},components:{SongNavBar:v,SongCover:x,SongLyric:E,SongMenu:U,SongControl:D},methods:{prevClick:function(){this.$store.commit("decreaseIndex"),this.song=new a(this.$store.getters.getSong(this.$store.state.currentIndex))},nextClick:function(){this.$store.commit("increaseIndex"),this.song=new a(this.$store.getters.getSong(this.$store.state.currentIndex))}},computed:{bgImg:function(){return{background:"url(".concat(this.song.img,") center/300% no-repeat")}}},created:function(){var t=this;if(this.$store.state.playlist.length){var n=this.$store.state.currentIndex,e=this.$store.getters.getSong(n);this.song=new a(e),this.$store.commit("updateSong",this.song)}else{var s=this.$route.query.id;c(s).then((function(n){t.song=new a(n.songs[0]),t.$store.commit("updateSong",t.song)}))}},watch:{$route:function(t,n){"/song"!=t.path&&this.$store.commit("updateStatus",!1)}}},H=G,K=(e("1b92"),Object(g["a"])(H,s,i,!1,null,null,null));n["default"]=K.exports},de9f:function(t,n,e){t.exports=e.p+"img/needle-ip6.be4ebbeb.png"},e059:function(t,n,e){"use strict";var s=e("8e6a"),i=e.n(s);i.a},e8b5:function(t,n,e){var s=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}},e900:function(t,n,e){"use strict";var s=e("3922"),i=e.n(s);i.a},f6aa:function(t,n,e){t.exports=e.p+"img/comment.24b2f7ed.svg"},fc9e:function(t,n,e){}}]);
//# sourceMappingURL=chunk-7122c1e3.d61bbe1d.js.map